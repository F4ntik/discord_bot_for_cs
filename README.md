# Discord Bot for CS 1.6

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É Discord –∏ —Å–µ—Ä–≤–µ—Ä–æ–º Counter-Strike 1.6.

- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [docs/PROJECT_DOC_RU.md](docs/PROJECT_DOC_RU.md)
- –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–æ–º–∞–Ω–¥ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏: [docs/COMMANDS_REFERENCE_RU.md](docs/COMMANDS_REFERENCE_RU.md)
- –ö—Ä–∞—Ç–∫–∏–π –∂—É—Ä–Ω–∞–ª —Ä–∞–±–æ—Ç: [PROJECT_LOG.md](PROJECT_LOG.md)
- –°–∫—Ä–∏–ø—Ç—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è: `updater.sh` (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ) –∏ `restore.sh` (–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ)
- `updater.sh` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π `config.py` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –Ω–µ–≥–æ –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è).
- –î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `./updater.sh --branch <–∏–º—è_–≤–µ—Ç–∫–∏>`.
- Shell-—Å–∫—Ä–∏–ø—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è —Å LF (`.gitattributes`), —á—Ç–æ–±—ã –Ω–∞ Linux –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –æ—à–∏–±–∫–∞ `/usr/bin/env: 'bash\\r'`.
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏–π –∫–∞–Ω–∞–ª (ID –∑–∞–¥–∞—ë—Ç—Å—è –≤ `config.py`).
- –°—Ç–∞—Ç—É—Å CS –≤ Discord –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è push-–≤–µ–±—Ö—É–∫–∞–º–∏ –∏–∑ AMX-–ø–ª–∞–≥–∏–Ω–∞ (—Å–æ–±—ã—Ç–∏—è + heartbeat), –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ RCON-–ø–æ–ª–ª–∏–Ω–≥–∞.
- –ö–æ–º–∞–Ω–¥–∞ `/map_install` –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç `.bsp` –∏ `.zip`: –∞—Ä—Ö–∏–≤ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–∞—Ä—Ç—É –∏ —Ä–µ—Å—É—Ä—Å—ã (`maps/models/sound/sprites/gfx/overviews/resource`).
- –î–æ–±–∞–≤–ª–µ–Ω—ã —è–≤–Ω—ã–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å–ø–∏—Å–∫–∞ –∫–∞—Ä—Ç: `/server_maps` (–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–æ—Ç–∞—Ü–∏—è) –∏ `/server_maps_installed` (–≤—Å–µ `.bsp` –≤ `maps/`), —á—Ç–æ–±—ã –Ω–µ –ø—É—Ç–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ —Å –ë–î –±–æ—Ç–∞.

## –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç –¥–ª—è `/map_install`
- –í `config.py` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã: `MAP_DEPLOY_PROTOCOL`, `MAP_FTP_HOST`, `MAP_FTP_PORT`, `MAP_FTP_USER`, `MAP_FTP_PASSWORD`.
- –î–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –ø—É—Ç–µ–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `MAP_REMOTE_MAPS_DIR` –∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `MAP_REMOTE_BASE_DIR`, `MAP_REMOTE_MODELS_DIR`, `MAP_REMOTE_SOUND_DIR`, `MAP_REMOTE_SPRITES_DIR`, `MAP_REMOTE_GFX_DIR`, `MAP_REMOTE_OVERVIEWS_DIR`, `MAP_REMOTE_RESOURCE_DIR` (–≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º–∏ –ø—É—Ç—è–º–∏ –Ω–∞ FTP/FTPS, –Ω–∞–ø—Ä–∏–º–µ—Ä `/cstrike/maps`).
- –î–ª—è FTPS –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω—ã `MAP_FTP_USE_TLS = True` –∏ –ø–∞—Å—Å–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º `MAP_FTP_PASSIVE = True`.
- ZIP –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –∏ –ø–ª–æ—Å–∫–∏–π —Ñ–æ—Ä–º–∞—Ç; –ø–ª–æ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Ä–∞—Å–∫–ª–∞–¥—ã–≤–∞—é—Ç—Å—è –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é. –í –∞—Ä—Ö–∏–≤–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–æ–≤–Ω–æ –æ–¥–∏–Ω `.bsp`.
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ —Ñ–∞–π–ª–∞–º –Ω–∞ FTP –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è: —Ç–∞–∫–∏–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º.
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ä–æ—Ç–∞—Ü–∏—é –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `add_to_rotation=true` –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —á–∏—Å—Ç–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ (–±–µ–∑ skipped/rejected –∏ —Å —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π `.bsp`).

## WOW moments (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ)
- –í –ø—Ä–æ–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω realtime-–ø–æ—Ç–æ–∫ WOW/LOL-–º–æ–º–µ–Ω—Ç–æ–≤ –∏–∑ AMXX –≤ Discord.
- –ò–≥—Ä–æ–≤—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã:
  - WOW: `omg`, `/omg`, `!omg` -> –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ –∏–≥—Ä–æ–∫–∞.
  - –ö—Ä–∏–Ω–∂/bloopers: `lol`, `/lol`, `!lol` -> –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ –∏–≥—Ä–æ–∫–∞.
- –ë–æ—Ç –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –≥–æ–ª–æ—Å–∞ –≤ –æ–∫–Ω–µ `WOW_MOMENT_WINDOW_SEC` –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –æ–¥–∏–Ω –ø–æ—Å—Ç –≤ `MOMENTS_CHANNEL_ID`.
- –î–ª—è –¥–µ–º–æ-—Å—Å—ã–ª–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HLTV RCON (`status` -> `Recording to ...`) –∏–ª–∏ FTP fallback (`WOW_DEMO_FTP_*`).
- –ï—Å–ª–∏ –∫–∞—Ä—Ç–∞ —Å–æ–±—ã—Ç–∏—è –∏ –∫–∞—Ä—Ç–∞ –≤ demo –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç (—Ä–µ–¥–∫–æ–µ –æ–∫–Ω–æ –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –∫–∞—Ä—Ç—ã), –±–æ—Ç –∂–¥–µ—Ç –¥–æ 35 —Å–µ–∫—É–Ω–¥ –∏ —Ä–µ—Ç—Ä–∞–∏—Ç –ø–æ–∏—Å–∫, —á—Ç–æ–±—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ª–æ–∂–Ω—É—é —Å—Å—ã–ª–∫—É.
- –ï—Å–ª–∏ –≤ –º–æ–º–µ–Ω—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–µ–π demo (`no_demo_found`, –Ω–∞–ø—Ä–∏–º–µ—Ä –≤–æ –≤—Ä–µ–º—è –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏—è/—Ä–æ—Ç–∞—Ü–∏–∏ –Ω–∞ MyArena), –±–æ—Ç —Ç–∞–∫–∂–µ –¥–µ–ª–∞–µ—Ç —Ä–µ—Ç—Ä–∞–∏ –¥–æ 35 —Å–µ–∫—É–Ω–¥ —Å —à–∞–≥–æ–º 5 —Å–µ–∫—É–Ω–¥.
- –í WOW-–ø–æ—Å—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–π–º–∫–æ–¥ `~MM:SS` –æ—Ç —Å—Ç–∞—Ä—Ç–∞ –∫–∞—Ä—Ç—ã (`map_elapsed_sec` –∏–∑ `get_gametime()`), –∞ –Ω–µ —Ç–æ–ª—å–∫–æ `timeleft`.
- –§–æ—Ä–º–∞—Ç –ø–æ—Å—Ç–∞ —Ä—É—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `–ö—Ç–æ –æ—Ç–º–µ—Ç–∏–ª`.
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Ä–∞–∑–ª–∏—á–∞—é—Ç—Å—è —ç–º–æ–¥–∑–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–∫—Ä–æ–ª–ª–∞ –≤ Discord: `üî• WOW-–º–æ–º–µ–Ω—Ç` –∏ `ü§° –ö—Ä–∏–Ω–∂-–º–æ–º–µ–Ω—Ç`.
- –î–ª—è WOW –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–≤–µ–∑–¥—ã `‚≠ê`, –¥–ª—è –∫—Ä–∏–Ω–∂-–º–æ–º–µ–Ω—Ç–æ–≤ ‚Äî –∫–ª–æ—É–Ω—ã `ü§°` (–¥–æ 10, –¥–∞–ª–µ–µ —Å—É—Ñ—Ñ–∏–∫—Å `xN`).

### –ß—Ç–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –¥–ª—è Discord
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ: `BOT_TOKEN`, `GUILD_ID`, `CS_CHAT_CHNL_ID`, `INFO_CHANNEL_ID`.
- –î–ª—è WOW: `MOMENTS_CHANNEL_ID` (ID —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞ –∏–ª–∏ ID –≤–µ—Ç–∫–∏ —Ñ–æ—Ä—É–º–∞/Thread).
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ —Ö—Ä–∞–Ω–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º `.env` (–ø–æ —à–∞–±–ª–æ–Ω—É `.env.example`), –∞ `config.py` –¥–µ—Ä–∂–∞—Ç—å –∫–∞–∫ —à–∞–±–ª–æ–Ω/–¥–µ—Ñ–æ–ª—Ç.

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ç–æ–∫ —á–µ—Ä–µ–∑ updater.sh
- –î–ª—è —Ç–µ—Å—Ç–∞ –≤–µ—Ç–∫–∏: `./updater.sh --branch feature/wow-moments`.
- –î–ª—è –æ—Ç–∫–∞—Ç–∞: `./updater.sh --branch main`.
- `updater.sh` –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç `config.py`, –∞ —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–ª—é—á–∏ –∏–∑ —à–∞–±–ª–æ–Ω–∞.
- –ù–æ–≤—ã–µ WOW-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `config.py` –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ `[EXPERIMENTAL]`: –∏—Ö –º–æ–∂–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑, –∏ –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞—Ö `–≤–µ—Ç–∫–∞ <-> main`.
- `updater.sh` –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç `amxmodx_plugin/`, –ø–æ—ç—Ç–æ–º—É –∞–∫—Ç—É–∞–ª—å–Ω—ã–π `ultrahc_discord.amxx` –≤—ã–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.
